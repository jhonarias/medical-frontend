"use strict";(self.webpackChunkfrontend_practice=self.webpackChunkfrontend_practice||[]).push([[863],{6863:(Ge,b,l)=>{l.r(b),l.d(b,{TopicsContainerModule:()=>Re});var u=l(6814),c=l(95),d=l(228),_=l(7944),e=l(4946),A=l(5409),x=l(2115);function N(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",3)(2,"a",4),e._uU(3,"Crear tema"),e.qZA()(),e.TgZ(4,"div",3)(5,"a",5),e._uU(6,"Crear subtema"),e.qZA()(),e.BQk())}function U(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"span",8),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function S(n,o){1&n&&(e.ynx(0),e.TgZ(1,"h6"),e._uU(2,"Subtemas"),e.qZA(),e.BQk())}function J(n,o){1&n&&(e.TgZ(0,"h6"),e._uU(1,"No hay subtemas"),e.qZA())}function E(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"a",16)(2,"div",12)(3,"h5",13),e._uU(4),e.qZA()(),e.TgZ(5,"p",13),e._uU(6),e.ALo(7,"slice"),e.qZA()(),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("routerLink","subtopic-show/"+t._id),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description.length>50?e.Dn7(7,3,t.description,0,50)+"...":t.description)}}function k(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"a",11)(2,"div",12)(3,"h5",13),e._uU(4),e.qZA()(),e.TgZ(5,"p",13),e._uU(6),e.ALo(7,"slice"),e.qZA()(),e.TgZ(8,"div",14),e.YNc(9,S,3,0,"ng-container",1),e.YNc(10,J,2,0,"ng-template",null,15,e.W1O),e.qZA(),e.YNc(12,E,8,7,"ng-container",10),e.BQk()),2&n){const t=o.$implicit,i=e.MAs(11);e.xp6(1),e.Q6J("routerLink","topic-show/"+t._id),e.xp6(3),e.hij("Tema: ",t.name,""),e.xp6(2),e.Oqu(t.description.length>50?e.Dn7(7,6,t.description,0,50)+"...":t.description),e.xp6(3),e.Q6J("ngIf",t.subtopics.length)("ngIfElse",i),e.xp6(3),e.Q6J("ngForOf",t.subtopics)}}function F(n,o){if(1&n&&(e.TgZ(0,"div",9),e.YNc(1,k,13,10,"ng-container",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.topicData)}}const O=function(n){return[n]};let I=(()=>{class n{constructor(t,i){this.authenticatedService=t,this.topicHttpService=i,this.userType=_.F,this.topicData=[],this.isLoading=!0}ngOnInit(){this.internalInit()}internalInit(){this.retrieveTopics()}retrieveTopics(){this.topicHttpService.retrieveTopics().subscribe({next:t=>{this.topicData=t.data,this.isLoading=!1},error:t=>{this.isLoading=!1,console.log(t)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.c),e.Y36(x.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["topics-container"]],decls:4,vars:5,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["content",""],[1,"mb-3"],["routerLink","topic-create",1,"btn","btn-primary"],["routerLink","subtopic-create",1,"btn","btn-light"],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"list-group"],[4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action","active",3,"routerLink"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[1,"list-group-item","list-group-item-action"],["noSubtopics",""],[1,"list-group-item","list-group-item-action",3,"routerLink"]],template:function(t,i){if(1&t&&(e.YNc(0,N,7,0,"ng-container",0),e.YNc(1,U,5,0,"ng-container",1),e.YNc(2,F,2,1,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(3);e.Q6J("ngIf",i.authenticatedService.hasRole(e.VKq(3,O,i.userType.ADMIN))),e.xp6(1),e.Q6J("ngIf",i.isLoading)("ngIfElse",r)}},dependencies:[u.sg,u.O5,d.rH,u.OU],encapsulation:2}),n})();var g=(()=>((g=g||{}).OPEN="Open",g.CLOSED="Closed",g))(),f=l(8994),p=(()=>((p=p||{}).IMAGE="image",p.VIDEO="video",p.UNKNOWN="unknown",p))();let C=(()=>{class n{constructor(){}getMediaTypeFromBase64(t){return t.startsWith("data:image")?p.IMAGE:t.startsWith("data:video")?p.VIDEO:p.UNKNOWN}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y(n,o){1&n&&(e.ynx(0),e.TgZ(1,"h1"),e._uU(2,"Crear tema"),e.qZA(),e.BQk())}function B(n,o){1&n&&(e.TgZ(0,"h1"),e._uU(1,"Crear subtema"),e.qZA())}function L(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",20)(2,"div",21)(3,"span",22),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function M(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1,"Ingresa el nombre"),e.qZA())}function H(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Ingresa la descripci\xf3n"),e.qZA())}function R(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"option",24),e._uU(2),e.qZA(),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function G(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1,"Por favor Selecciona un estado"),e.qZA())}function D(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"option",24),e._uU(2),e.qZA(),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("value",t._id),e.xp6(1),e.Oqu(t.name)}}function V(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1,"Porfavor Selecciona el tema"),e.qZA())}function K(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",10)(2,"label",25),e._uU(3,"Tema"),e.qZA(),e.TgZ(4,"select",26)(5,"option",13),e._uU(6,"Selecciona el tema"),e.qZA(),e.YNc(7,D,3,2,"ng-container",14),e.qZA(),e.YNc(8,V,2,0,"p",7),e._UZ(9,"br"),e.qZA(),e.BQk()),2&n){const t=e.oxw();let i;e.xp6(7),e.Q6J("ngForOf",t.topics),e.xp6(1),e.Q6J("ngIf",(null==(i=t.form.get("topic"))?null:i.invalid)&&((null==(i=t.form.get("topic"))?null:i.dirty)||(null==(i=t.form.get("topic"))?null:i.touched)))}}function P(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"img",27),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.file,e.LSH)}}function j(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"video",28),e._UZ(2,"source",29),e._uU(3," Tu navegador no admite la reproducci\xf3n de video. "),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.file,e.LSH)}}function W(n,o){if(1&n&&(e.ynx(0),e.YNc(1,P,2,1,"ng-container",2),e.YNc(2,j,4,1,"ng-container",2),e._UZ(3,"br"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.fileMediaType===t.mediaTypeEnum.IMAGE),e.xp6(1),e.Q6J("ngIf",t.fileMediaType===t.mediaTypeEnum.VIDEO)}}function z(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Selecciona el archivo"),e.qZA())}let y=(()=>{class n{constructor(t,i,r){this.topicHttpService=t,this.mediaService=i,this.router=r,this.resourceTypeEnum=f._,this.mediaTypeEnum=p,this.form=new c.cw({}),this.statusList=[],this.resourceType=f._.TOPIC,this.topics=[],this.file="",this.fileMediaType=p.UNKNOWN,this.isLoading=!1}ngOnInit(){this.internalInit()}validate(){this.form.valid?this.register():alert("form invalid")}onFileChange(t){t.target.files&&t.target.files.length>0&&this.convertToBase64(t.target.files[0])}convertToBase64(t){const i=new FileReader;i.onload=()=>{this.file=i.result,this.fileMediaType=this.mediaService.getMediaTypeFromBase64(this.file)},i.readAsDataURL(t)}internalInit(){this.setStatusList(),this.setResourceType(),this.retrieveTopics(),this.buildForm()}setStatusList(){this.statusList=[],Object.values(g).forEach(t=>{this.statusList.push(t)})}setResourceType(){this.resourceType=this.router.url.split("/").pop()?.split("-")[0]}buildForm(){this.form=new c.cw({name:new c.NI("",[c.kI.required]),description:new c.NI("",[c.kI.required]),status:new c.NI(g.OPEN,[c.kI.required]),file:new c.NI("",[c.kI.required])}),this.resourceType===this.resourceTypeEnum.SUBTOPIC&&this.form.addControl("topic",new c.NI("",[c.kI.required]))}retrieveTopics(){this.resourceType===this.resourceTypeEnum.SUBTOPIC&&(this.isLoading=!0,this.topicHttpService.retrieveTopics().subscribe({next:t=>{this.topics=t.data,this.isLoading=!1},error:t=>{console.error(t),this.isLoading=!1}}))}buildRequest(){return{...this.form.value,files:this.file}}register(){this.isLoading=!0;const t=this.buildRequest();this.topicHttpService.registerResource(t,this.resourceType).subscribe({next:i=>{this.handleRegisterSuccess(i)},error:i=>{console.log("err",i),this.isLoading=!1}})}handleRegisterSuccess(t){this.form.reset(),this.router.navigate(["/topics"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.J),e.Y36(C),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["topic-create-container"]],decls:35,vars:12,consts:[[4,"ngIf","ngIfElse"],["subtopicTemplate",""],[4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","Nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","description",1,"form-label"],["id","description","autocomplete","description","formControlName","description","placeholder","Descripci\xf3n","rows","3",1,"form-control"],[1,"col-12","col-sm-6","mb-3"],["for","status",1,"form-label"],["id","status","autocomplete","status","formControlName","status","placeholder","Estado",1,"form-control"],["value",""],[4,"ngFor","ngForOf"],["for","file",1,"form-label"],["type","file","id","file","autocomplete","file","formControlName","file","placeholder","file",1,"form-control",3,"change"],[1,"col-12","text-center"],[1,"btn","btn-success",3,"disabled","click"],[1,"button_label"],[1,"d-flex","justify-content-center","mb-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"text-danger"],[3,"value"],["for","topic",1,"form-label"],["id","topic","autocomplete","topic","formControlName","topic","placeholder","Tema",1,"form-control"],["alt","",1,"mb-3",2,"width","200px",3,"src"],["width","200px","controls","",1,"mb-3"],["type","video/mp4",3,"src"]],template:function(t,i){if(1&t&&(e.YNc(0,Y,3,0,"ng-container",0),e.YNc(1,B,2,0,"ng-template",null,1,e.W1O),e.YNc(3,L,5,0,"ng-container",2),e.TgZ(4,"form",3)(5,"div",4)(6,"label",5),e._uU(7,"Nombre"),e.qZA(),e._UZ(8,"input",6),e.YNc(9,M,2,0,"p",7),e.qZA(),e.TgZ(10,"div",4)(11,"label",8),e._uU(12,"Descripci\xf3n"),e.qZA(),e.TgZ(13,"textarea",9),e._uU(14,"        "),e.qZA(),e.YNc(15,H,2,0,"p",7),e.qZA(),e.TgZ(16,"div",10)(17,"label",11),e._uU(18,"Estado"),e.qZA(),e.TgZ(19,"select",12)(20,"option",13),e._uU(21,"Selecciona el status"),e.qZA(),e.YNc(22,R,3,2,"ng-container",14),e.qZA(),e.YNc(23,G,2,0,"p",7),e.qZA(),e.YNc(24,K,10,2,"ng-container",2),e.TgZ(25,"div",10),e.YNc(26,W,4,2,"ng-container",2),e.TgZ(27,"label",15),e._uU(28,"Archivo (imagen o video)"),e.qZA(),e.TgZ(29,"input",16),e.NdJ("change",function(s){return i.onFileChange(s)}),e.qZA(),e.YNc(30,z,2,0,"p",7),e.qZA(),e.TgZ(31,"div",17)(32,"button",18),e.NdJ("click",function(){return i.validate()}),e.TgZ(33,"span",19),e._uU(34," Guardar "),e.qZA()()()()),2&t){const r=e.MAs(2);let s,a,m,T;e.Q6J("ngIf",i.resourceType===i.resourceTypeEnum.TOPIC)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("ngIf",(null==(s=i.form.get("name"))?null:s.invalid)&&((null==(s=i.form.get("name"))?null:s.dirty)||(null==(s=i.form.get("name"))?null:s.touched))),e.xp6(6),e.Q6J("ngIf",(null==(a=i.form.get("description"))?null:a.invalid)&&((null==(a=i.form.get("description"))?null:a.dirty)||(null==(a=i.form.get("description"))?null:a.touched))),e.xp6(7),e.Q6J("ngForOf",i.statusList),e.xp6(1),e.Q6J("ngIf",(null==(m=i.form.get("status"))?null:m.invalid)&&((null==(m=i.form.get("status"))?null:m.dirty)||(null==(m=i.form.get("status"))?null:m.touched))),e.xp6(1),e.Q6J("ngIf",i.resourceType===i.resourceTypeEnum.SUBTOPIC),e.xp6(2),e.Q6J("ngIf",i.file),e.xp6(4),e.Q6J("ngIf",(null==(T=i.form.get("file"))?null:T.invalid)&&((null==(T=i.form.get("file"))?null:T.dirty)||(null==(T=i.form.get("file"))?null:T.touched))),e.xp6(2),e.Q6J("disabled",i.isLoading?"disabled":null)}},dependencies:[u.sg,u.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.sg,c.u],encapsulation:2}),n})();l(7651);const $_markFormGroupAsTouched=function q(n){Object.keys(n.controls).map(o=>n.controls[o]).forEach(o=>{o.markAsTouched(),o.controls&&q(o)})};var w=l(9949);function X(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"span",4),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function ee(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"img",15),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("src",t.topic.files,e.LSH)}}function te(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"video",16),e._UZ(2,"source",17),e._uU(3," Tu navegador no admite la reproducci\xf3n de video. "),e.qZA(),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("src",t.topic.files,e.LSH)}}function ne(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ee,2,1,"ng-container",5),e.YNc(2,te,4,1,"ng-container",5),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.mediaType===t.mediaTypeEnum.IMAGE),e.xp6(1),e.Q6J("ngIf",t.mediaType===t.mediaTypeEnum.VIDEO)}}function ie(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",18)(2,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.generateQuestions())}),e._uU(3,"Generar preguntas"),e.qZA()(),e.BQk()}}function oe(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",18)(2,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.createQuestions())}),e._uU(3,"Crear preguntas"),e.qZA()(),e.TgZ(4,"div",18)(5,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.detete())}),e._uU(6,"Eliminar"),e.qZA()(),e.TgZ(7,"div",18)(8,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.edit())}),e._uU(9,"Actualizar"),e.qZA()(),e.BQk()}}function re(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"li")(2,"a",23),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"slice"),e.qZA()(),e.BQk()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("routerLink","/topics/subtopic-show/"+t._id),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description.length>50?e.Dn7(6,3,t.description,0,50)+"...":t.description)}}function ce(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"Subtemas"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,re,7,7,"ng-container",22),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",t.topic.subtopics)}}function se(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8),e.YNc(4,ne,3,2,"ng-container",5),e.TgZ(5,"div",9)(6,"h5",10),e._uU(7),e.qZA(),e.TgZ(8,"p",11),e._uU(9),e.qZA(),e.YNc(10,ie,4,0,"ng-container",5),e.YNc(11,oe,10,0,"ng-container",5),e.qZA(),e.TgZ(12,"div",12)(13,"small",13),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"small",13),e._uU(17),e.ALo(18,"date"),e.qZA()()()(),e.TgZ(19,"div",14),e.YNc(20,ce,5,1,"ng-container",5),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.topic.files),e.xp6(3),e.Oqu(t.topic.name),e.xp6(2),e.Oqu(t.topic.description),e.xp6(1),e.Q6J("ngIf",!t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(3),e.hij("Creado el: ",e.xi3(15,8,t.topic.createdAt,"dd/MM/yyyy")," y "),e.xp6(3),e.hij("actualizado el: ",e.xi3(18,11,t.topic.updatedAt,"dd/MM/yyyy"),""),e.xp6(3),e.Q6J("ngIf",t.topic.subtopics.length)}}function ae(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"img",15),e.BQk()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("src",t.subtopic.files,e.LSH)}}function pe(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"video",16),e._UZ(2,"source",17),e._uU(3," Tu navegador no admite la reproducci\xf3n de video. "),e.qZA(),e.BQk()),2&n){const t=e.oxw(5);e.xp6(2),e.Q6J("src",t.subtopic.files,e.LSH)}}function le(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ae,2,1,"ng-container",5),e.YNc(2,pe,4,1,"ng-container",5),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.mediaType===t.mediaTypeEnum.IMAGE),e.xp6(1),e.Q6J("ngIf",t.mediaType===t.mediaTypeEnum.VIDEO)}}function ue(n,o){if(1&n&&(e.ynx(0),e.YNc(1,le,3,2,"ng-container",5),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.subtopic.files)}}function _e(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",18)(2,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.generateQuestions())}),e._uU(3,"Generar preguntas"),e.qZA()(),e.BQk()}}function me(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",18)(2,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.createQuestions())}),e._uU(3,"Crear preguntas"),e.qZA()(),e.TgZ(4,"div",18)(5,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.detete())}),e._uU(6,"Eliminar"),e.qZA()(),e.TgZ(7,"div",18)(8,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.edit())}),e._uU(9,"Actualizar"),e.qZA()(),e.BQk()}}function de(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8),e.YNc(4,ue,2,1,"ng-container",5),e.TgZ(5,"div",9)(6,"h5",10),e._uU(7),e.qZA(),e.TgZ(8,"p",11),e._uU(9),e.qZA(),e.YNc(10,_e,4,0,"ng-container",5),e.YNc(11,me,10,0,"ng-container",5),e.qZA(),e.TgZ(12,"div",12)(13,"small",13),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"small",13),e._uU(17),e.ALo(18,"date"),e.qZA()()()(),e.TgZ(19,"div",14)(20,"h2"),e._uU(21,"Tema"),e.qZA(),e.TgZ(22,"ul")(23,"li")(24,"a",23),e._uU(25),e.qZA(),e.TgZ(26,"p"),e._uU(27),e.ALo(28,"slice"),e.qZA()()()()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.subtopic.files),e.xp6(3),e.Oqu(t.subtopic.name),e.xp6(2),e.Oqu(t.subtopic.description),e.xp6(1),e.Q6J("ngIf",!t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(3),e.hij("Creado el: ",e.xi3(15,10,t.subtopic.createdAt,"dd/MM/yyyy")," y "),e.xp6(3),e.hij("actualizado el: ",e.xi3(18,13,t.subtopic.updatedAt,"dd/MM/yyyy"),""),e.xp6(7),e.Q6J("routerLink","/topics/topic-show/"+t.subtopic.topic._id),e.xp6(1),e.Oqu(t.subtopic.topic.name),e.xp6(2),e.Oqu(t.subtopic.topic.description.length>50?e.Dn7(28,16,t.subtopic.topic.description,0,50)+"...":t.subtopic.topic.description)}}function ge(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",18)(2,"a",32),e._uU(3,"Ver pregunta"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("routerLink","/questions/question-show/"+t.get("_id").value)}}function fe(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",33)(2,"div",30)(3,"input",34),e.NdJ("input",function(){const s=e.CHM(t).$implicit,a=e.oxw().$implicit;return e.KtG(a.get("selectedAnswer").setValue(s.get("_id").value))}),e.qZA(),e.TgZ(4,"label",35),e._uU(5),e.qZA()()(),e.BQk()}if(2&n){const t=o.$implicit,i=e.oxw().index;e.xp6(2),e.Q6J("formGroup",t),e.xp6(1),e.Q6J("id",t.get("_id").value),e.uIk("name","answer"+i),e.xp6(1),e.Q6J("for",t.get("_id").value),e.xp6(1),e.hij(" ",t.get("description").value," ")}}function Te(n,o){1&n&&(e.TgZ(0,"p",36),e._uU(1,"Selecciona una respuesta"),e.qZA())}function he(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",29)(2,"div",30)(3,"p"),e._uU(4),e.qZA(),e.YNc(5,ge,4,1,"ng-container",5),e.YNc(6,fe,6,5,"ng-container",22),e.YNc(7,Te,2,0,"p",31),e.qZA()(),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3);let r;e.xp6(2),e.Q6J("formGroup",t),e.xp6(2),e.Oqu(t.get("description").value),e.xp6(1),e.Q6J("ngIf",i.isAdmin),e.xp6(1),e.Q6J("ngForOf",t.get("answers").controls),e.xp6(1),e.Q6J("ngIf",(null==(r=t.get("selectedAnswer"))?null:r.invalid)&&((null==(r=t.get("selectedAnswer"))?null:r.dirty)||(null==(r=t.get("selectedAnswer"))?null:r.touched)))}}function xe(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"div",9)(3,"form",25),e.YNc(4,he,8,5,"ng-container",22),e.TgZ(5,"div",26)(6,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.validate())}),e.TgZ(7,"span",28),e._uU(8," Enviar "),e.qZA()()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formGroup",t.questionsForm),e.xp6(1),e.Q6J("ngForOf",t.questionsForm.controls)}}function Ce(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"li"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=o.$implicit;e.xp6(2),e.AsE(" ",t.question.description," es ",t.isCorrect?"correcta":"incorrecta"," ")}}function ye(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"div",9)(3,"ul"),e.YNc(4,Ce,3,2,"ng-container",22),e.qZA(),e.TgZ(5,"button",37)(6,"span",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.regenerateQuestions())}),e._uU(7," Volver a generar preguntas "),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.summarySolvedQuestions)}}function Ze(n,o){if(1&n&&(e.YNc(0,se,21,14,"ng-container",5),e.YNc(1,de,29,20,"ng-container",5),e.YNc(2,xe,9,2,"ng-container",5),e.YNc(3,ye,8,1,"ng-container",5)),2&n){const t=e.oxw();e.Q6J("ngIf",t.topic),e.xp6(1),e.Q6J("ngIf",t.subtopic),e.xp6(1),e.Q6J("ngIf",t.questionsForm&&t.questionsForm.controls.length),e.xp6(1),e.Q6J("ngIf",t.summarySolvedQuestions.length)}}let Z=(()=>{class n{constructor(t,i,r,s,a,m,T){this.authenticatedService=t,this.topicHttpService=i,this.questionHttpService=r,this.mediaService=s,this.router=a,this.route=m,this.fb=T,this.mediaTypeEnum=p,this.resourceType=f._.TOPIC,this.resourceId="",this.topic=void 0,this.subtopic=void 0,this.questions=[],this.isAdmin=!1,this.questionsForm=new c.Oe([]),this.summarySolvedQuestions=[],this.mediaType=this.mediaTypeEnum.UNKNOWN,this.isLoading=!0}ngOnInit(){this.internalInit()}generateQuestions(){this.isLoading=!0,this.topic&&this.getQuestionsByTopic(),this.subtopic&&this.getQuestionsBySubtopic()}detete(){window.confirm("\xbfEst\xe1s seguro de que lo desea eliminar?")&&this.topicHttpService.deleteResourceById(this.resourceId,this.resourceType).subscribe({next:t=>{alert(t.data.name+" eliminado correctamente"),this.router.navigate(["/topics"])},error:t=>console.error(t)})}edit(){this.router.navigate(this.resourceType===f._.TOPIC?["/topics/topic-edit/"+this.resourceId]:["/topics/subtopic-edit/"+this.resourceId])}createQuestions(){this.router.navigate(["/questions/question-create"],{queryParams:{resourceId:this.resourceId,resourceType:this.resourceType}})}validate(){$_markFormGroupAsTouched(this.questionsForm),this.questionsForm.valid&&this.buildAnswersSummary()}regenerateQuestions(){this.summarySolvedQuestions=[],this.buildQuestionsForm()}buildAnswersSummary(){this.summarySolvedQuestions=[],this.questionsForm.value.forEach(t=>{const i=this.questions.find(a=>a._id===t._id),r=i?.answers.find(a=>a._id===t.selectedAnswer),s=i?.answers.some(a=>a._id===t.selectedAnswer&&a.isCorrect);this.summarySolvedQuestions.push({question:i,isCorrect:s,selectedAnswer:r,correctAnswer:i?.answers.find(a=>a.isCorrect)})}),this.questionsForm=new c.Oe([])}getQuestionsByTopic(){this.questionHttpService.getQuestionsByTopic(this.topic._id).subscribe({next:t=>{this.questions=t.data,this.buildQuestionsForm(),this.isLoading=!1},error:t=>{console.error(t),this.isLoading=!1}})}getOrderQuestionsRandomly(){return this.questions.sort(()=>Math.random()-.5)}buildQuestionsForm(){this.questionsForm=new c.Oe([]),this.getOrderQuestionsRandomly().forEach(i=>{const r=new c.cw({_id:new c.NI(i._id,[]),description:new c.NI(i.description,[]),selectedAnswer:new c.NI("",[c.kI.required])}),s=new c.Oe([]);i.answers.forEach(a=>{const m=new c.cw({_id:new c.NI(a._id,[]),description:new c.NI(a.description,[])});s.push(m)}),r.addControl("answers",s),this.questionsForm.push(r)})}getQuestionsBySubtopic(){this.questionHttpService.getQuestionsBySubtopic(this.subtopic._id).subscribe({next:t=>{this.questions=t.data,this.isLoading=!1},error:t=>{console.log(t),this.isLoading=!1}})}internalInit(){this.setIsAdmin(),this.setResourceType(),this.subscribeToParams()}setResourceType(){this.resourceType=this.router.url.split("/")[2].split("-")[0]}subscribeToParams(){this.route.params.subscribe(t=>{this.resourceId=t.id,this.getResourceById()})}setIsAdmin(){this.isAdmin=this.authenticatedService.hasRole([_.F.ADMIN])}handleGenerateQuestions(){this.isAdmin&&this.generateQuestions()}getResourceById(){this.topicHttpService.getResourceById(this.resourceId,this.resourceType).subscribe({next:t=>{this.handleGetResourceById(t),this.handleGenerateQuestions(),this.isLoading=!1},error:t=>{console.log(t),this.isLoading=!1}})}getVisualizationType(t){return t.data.files.startsWith("data:image")?"image":t.data.files.startsWith("data:video")?"video":"otro"}handleGetResourceById(t){this.mediaType=this.mediaService.getMediaTypeFromBase64(t.data.files),this.resourceType===f._.TOPIC?this.topic=t.data:this.subtopic=t.data}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.c),e.Y36(x.J),e.Y36(w.Q),e.Y36(C),e.Y36(d.F0),e.Y36(d.gz),e.Y36(c.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["topic-show-container"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-12","col-sm-8"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],[1,"text-body-secondary"],[1,"col-12","col-sm-4"],["alt","",1,"card-img-top",3,"src"],["width","100%","controls",""],["type","video/mp4",3,"src"],[1,"mb-3"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"card","mb-3"],[1,"row",3,"formGroup"],[1,"col-12","text-center"],[1,"btn","btn-success",3,"click"],[1,"button_label"],[1,"col-12","mb-3"],[3,"formGroup"],["class","text-danger",4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"form-check"],["type","radio",1,"form-check-input",3,"id","input"],[1,"form-check-label",3,"for"],[1,"text-danger"],[1,"btn","btn-success"],[1,"button_label",3,"click"]],template:function(t,i){if(1&t&&(e.YNc(0,X,5,0,"ng-container",0),e.YNc(1,Ze,4,4,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(2);e.Q6J("ngIf",i.isLoading)("ngIfElse",r)}},dependencies:[u.sg,u.O5,c._Y,c.JL,c.sg,d.rH,u.OU,u.uU],encapsulation:2}),n})();var h=l(4722);function ve(n,o){1&n&&(e.ynx(0),e.TgZ(1,"h1"),e._uU(2,"Actualizar tema"),e.qZA(),e.BQk())}function be(n,o){1&n&&(e.TgZ(0,"h1"),e._uU(1,"Actualizar subtema"),e.qZA())}function Ae(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"span",5),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function Ie(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1,"Ingresa el nombre"),e.qZA())}function qe(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Ingresa la descripci\xf3n"),e.qZA())}function Qe(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"option",24),e._uU(2),e.qZA(),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function we(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1,"Selectiona el estado"),e.qZA())}function Ne(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"option",24),e._uU(2),e.qZA(),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("value",t._id),e.xp6(1),e.Oqu(t.name)}}function Ue(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1,"Selectiona el tema"),e.qZA())}function Se(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"label",25),e._uU(3,"Tema"),e.qZA(),e.TgZ(4,"select",26),e.YNc(5,Ne,3,2,"ng-container",16),e.qZA(),e.YNc(6,Ue,2,0,"p",10),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);let i;e.xp6(5),e.Q6J("ngForOf",t.topics),e.xp6(1),e.Q6J("ngIf",(null==(i=t.form.get("topic"))?null:i.invalid)&&((null==(i=t.form.get("topic"))?null:i.dirty)||(null==(i=t.form.get("topic"))?null:i.touched)))}}function Je(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"small"),e._uU(2,"Imagen del tema"),e.qZA(),e._UZ(3,"br")(4,"img",27),e.BQk()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("src",t.topic.files,e.LSH)}}function Ee(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"small"),e._uU(2,"Video del tema"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"video",28),e._UZ(5,"source",29),e._uU(6," Tu navegador no admite la reproducci\xf3n de video. "),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("src",t.topic.files,e.LSH)}}function ke(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Je,5,1,"ng-container",17),e.YNc(2,Ee,7,1,"ng-container",17),e._UZ(3,"br"),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mediaType===t.mediaTypeEnum.IMAGE),e.xp6(1),e.Q6J("ngIf",t.mediaType===t.mediaTypeEnum.VIDEO)}}function Fe(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"small"),e._uU(2,"Nueva imagen del tema"),e.qZA(),e._UZ(3,"br")(4,"img",27),e.BQk()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("src",t.file,e.LSH)}}function Oe(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"small"),e._uU(2,"Nuevo video del tema"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"video",28),e._UZ(5,"source",29),e._uU(6," Tu navegador no admite la reproducci\xf3n de video. "),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("src",t.file,e.LSH)}}function Ye(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Fe,5,1,"ng-container",17),e.YNc(2,Oe,7,1,"ng-container",17),e._UZ(3,"br"),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileMediaType===t.mediaTypeEnum.IMAGE),e.xp6(1),e.Q6J("ngIf",t.fileMediaType===t.mediaTypeEnum.VIDEO)}}function Be(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Selecciona el archivo"),e.qZA())}function Le(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",6)(1,"div",7)(2,"label",8),e._uU(3,"Nombre"),e.qZA(),e._UZ(4,"input",9),e.YNc(5,Ie,2,0,"p",10),e.qZA(),e.TgZ(6,"div",7)(7,"label",11),e._uU(8,"Descripci\xf3n"),e.qZA(),e.TgZ(9,"textarea",12),e._uU(10,"            "),e.qZA(),e.YNc(11,qe,2,0,"p",10),e.qZA(),e.TgZ(12,"div",13)(13,"label",14),e._uU(14,"Estado"),e.qZA(),e.TgZ(15,"select",15),e.YNc(16,Qe,3,2,"ng-container",16),e.qZA(),e.YNc(17,we,2,0,"p",10),e.qZA(),e.YNc(18,Se,7,2,"ng-container",17),e.TgZ(19,"div",13),e.YNc(20,ke,4,2,"ng-container",17),e.YNc(21,Ye,4,2,"ng-container",17),e.TgZ(22,"label",18),e._uU(23,"Archivo (imagen o video)"),e.qZA(),e.TgZ(24,"input",19),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileChange(r))}),e.qZA(),e.YNc(25,Be,2,0,"p",10),e.qZA(),e.TgZ(26,"div",20)(27,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.validate())}),e.TgZ(28,"span",22),e._uU(29," Actualizar "),e.qZA()()()()}if(2&n){const t=e.oxw();let i,r,s,a;e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("ngIf",(null==(i=t.form.get("name"))?null:i.invalid)&&((null==(i=t.form.get("name"))?null:i.dirty)||(null==(i=t.form.get("name"))?null:i.touched))),e.xp6(6),e.Q6J("ngIf",(null==(r=t.form.get("description"))?null:r.invalid)&&((null==(r=t.form.get("description"))?null:r.dirty)||(null==(r=t.form.get("description"))?null:r.touched))),e.xp6(5),e.Q6J("ngForOf",t.statusList),e.xp6(1),e.Q6J("ngIf",(null==(s=t.form.get("status"))?null:s.invalid)&&((null==(s=t.form.get("status"))?null:s.dirty)||(null==(s=t.form.get("status"))?null:s.touched))),e.xp6(1),e.Q6J("ngIf",t.resourceType===t.resourceTypeEnum.SUBTOPIC),e.xp6(2),e.Q6J("ngIf",t.topic&&t.topic.files),e.xp6(1),e.Q6J("ngIf",t.file),e.xp6(4),e.Q6J("ngIf",(null==(a=t.form.get("file"))?null:a.invalid)&&((null==(a=t.form.get("file"))?null:a.dirty)||(null==(a=t.form.get("file"))?null:a.touched)))}}let v=(()=>{class n{constructor(t,i,r,s){this.topicHttpService=t,this.mediaService=i,this.router=r,this.route=s,this.mediaTypeEnum=p,this.resourceTypeEnum=f._,this.form=new c.cw({}),this.topic=void 0,this.subtopic=void 0,this.resourceType=f._.TOPIC,this.resourceId="",this.topics=[],this.statusList=[],this.file="",this.mediaType=p.UNKNOWN,this.fileMediaType=p.UNKNOWN,this.isLoading=!0}ngOnInit(){this.internalInit()}validate(){this.form.valid?this.update():alert("form invalid")}onFileChange(t){t.target.files&&t.target.files.length>0&&this.convertToBase64(t.target.files[0])}convertToBase64(t){const i=new FileReader;i.onload=()=>{this.file=i.result,this.fileMediaType=this.mediaService.getMediaTypeFromBase64(this.file)},i.readAsDataURL(t)}internalInit(){this.setStatusList(),this.setResourceType(),this.setResourceId(),this.buildForm()}setStatusList(){this.statusList=[],Object.values(g).forEach(t=>{this.statusList.push(t)})}setResourceType(){this.resourceType=this.router.url.split("/")[2].split("-")[0]}setResourceId(){this.route.params.subscribe(t=>{this.resourceId=t.id,this.getResourceById()})}getResourceById(){this.topicHttpService.getResourceById(this.resourceId,this.resourceType).subscribe({next:t=>{this.mediaType=this.mediaService.getMediaTypeFromBase64(t.data.files),this.resourceType===f._.TOPIC?this.topic=t.data:this.subtopic=t.data,this.retrieveTopics(),this.setFormValues(),this.isLoading=!0},error:t=>{console.log(t),this.isLoading=!1}})}retrieveTopics(){this.resourceType===this.resourceTypeEnum.SUBTOPIC&&(this.isLoading=!0,this.topicHttpService.retrieveTopics().subscribe({next:t=>{this.topics=t.data,this.isLoading=!1},error:t=>{console.error(t),this.isLoading=!1}}))}buildForm(){this.form=new c.cw({name:new c.NI("",[c.kI.required]),description:new c.NI("",[c.kI.required]),status:new c.NI("",[c.kI.required]),file:new c.NI("",[])}),this.resourceType===this.resourceTypeEnum.SUBTOPIC&&this.form.addControl("topic",new c.NI("",[c.kI.required]))}setFormValues(){const t=this.topic||this.subtopic;this.form.get("name")?.setValue(t.name),this.form.get("description")?.setValue(t.description),this.form.get("status")?.setValue(t.status),this.resourceType===this.resourceTypeEnum.SUBTOPIC&&this.form.get("topic")?.setValue(this.subtopic.topic?._id)}buildRequest(){return{...this.form.value,files:this.file?this.file:this.topic.files}}update(){this.isLoading=!0;const t=this.buildRequest();this.topicHttpService.updateResource(t,this.resourceType,this.resourceId).subscribe({next:i=>{i.success&&alert("Actualizado correctamente"),this.router.navigate(["/topics"])},error:i=>{console.log("err",i),this.isLoading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.J),e.Y36(C),e.Y36(d.F0),e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["topic-edit-container"]],decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],["subtopicTemplate",""],["content",""],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","Nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","description",1,"form-label"],["id","description","autocomplete","description","formControlName","description","placeholder","Descripci\xf3n","rows","3",1,"form-control"],[1,"col-12","col-sm-6","mb-3"],["for","status",1,"form-label"],["id","status","autocomplete","status","formControlName","status","placeholder","status",1,"form-control"],[4,"ngFor","ngForOf"],[4,"ngIf"],["for","file",1,"form-label"],["type","file","id","file","autocomplete","file","formControlName","file","placeholder","file",1,"form-control",3,"change"],[1,"col-12","text-center"],[1,"btn","btn-success",3,"click"],[1,"button_label"],[1,"text-danger"],[3,"value"],["for","topic",1,"form-label"],["id","topic","autocomplete","topic","formControlName","topic","placeholder","topics",1,"form-control"],["alt","",1,"mb-3",2,"width","200px",3,"src"],["width","200px","controls","",1,"mb-3"],["type","video/mp4",3,"src"]],template:function(t,i){if(1&t&&(e.YNc(0,ve,3,0,"ng-container",0),e.YNc(1,be,2,0,"ng-template",null,1,e.W1O),e.YNc(3,Ae,5,0,"ng-container",0),e.YNc(4,Le,30,9,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(2),s=e.MAs(5);e.Q6J("ngIf",i.resourceType===i.resourceTypeEnum.TOPIC)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[u.sg,u.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.sg,c.u],encapsulation:2}),n})();const Me=[{path:"",component:I,data:{roles:[_.F.USER,_.F.ADMIN]},canActivate:[h.a]},{path:"topic-create",component:y,data:{roles:[_.F.ADMIN]},canActivate:[h.a]},{path:"subtopic-create",component:y,data:{roles:[_.F.ADMIN]},canActivate:[h.a]},{path:"topic-show/:id",component:Z,data:{roles:[_.F.USER,_.F.ADMIN]},canActivate:[h.a]},{path:"subtopic-show/:id",component:Z,data:{roles:[_.F.USER,_.F.ADMIN]},canActivate:[h.a]},{path:"topic-edit/:id",component:v,data:{roles:[_.F.ADMIN]},canActivate:[h.a]},{path:"subtopic-edit/:id",component:v,data:{roles:[_.F.ADMIN]},canActivate:[h.a]}];let He=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(Me),d.Bz]}),n})(),Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:"components",useValue:[I,y,Z,v],multi:!0},x.J,w.Q],imports:[u.ez,c.UX,He]}),n})()}}]);