"use strict";(self.webpackChunkfrontend_practice=self.webpackChunkfrontend_practice||[]).push([[200],{4200:(zc,hn,N)=>{N.r(hn),N.d(hn,{QuestionsContainerModule:()=>Yc});var m=N(6814),T=N(95),re=N(1076),n=N(9468),He=N(9949);function yo(t,i){1&t&&(n.ynx(0),n.TgZ(1,"div",4)(2,"div",5)(3,"span",6),n._uU(4,"Loading..."),n.qZA()()(),n.BQk())}function No(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"li")(2,"a",14),n._uU(3),n.qZA()(),n.BQk()),2&t){const e=i.$implicit;n.xp6(2),n.Q6J("routerLink","/answers/answer-show/"+e._id),n.xp6(1),n.Oqu(e.description)}}function To(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"h6"),n._uU(2,"Respuestas"),n.qZA(),n.TgZ(3,"ol"),n.YNc(4,No,4,2,"ng-container",8),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(4),n.Q6J("ngForOf",e.answers)}}function Co(t,i){1&t&&(n.TgZ(0,"h6"),n._uU(1,"No hay respuesta"),n.qZA())}function wo(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"a",15)(2,"div",16)(3,"h5",10),n._uU(4),n.qZA(),n.TgZ(5,"div",17),n._uU(6,"Tema"),n.qZA()()(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("routerLink","/topics/topic-show/"+e.topic._id),n.xp6(3),n.Oqu(e.topic.name)}}function Do(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"a",15)(2,"div",16)(3,"h5",10),n._uU(4),n.qZA(),n.TgZ(5,"div",18),n._uU(6,"Subtema"),n.qZA()()(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("routerLink","/topics/subtopic-show/"+e.subtopic._id),n.xp6(3),n.Oqu(e.subtopic.name)}}function So(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"a",9)(2,"p",10),n._uU(3),n.ALo(4,"slice"),n.qZA()(),n.TgZ(5,"div",11),n.YNc(6,To,5,1,"ng-container",2),n.YNc(7,Co,2,0,"ng-template",null,12,n.W1O),n.qZA(),n.YNc(9,wo,7,2,"ng-container",13),n.YNc(10,Do,7,2,"ng-container",13),n.BQk()),2&t){const e=i.$implicit,o=n.MAs(8);n.xp6(1),n.Q6J("routerLink","question-show/"+e._id),n.xp6(2),n.Oqu(e.description.length>30?n.Dn7(4,6,e.description,0,30)+"...":e.description),n.xp6(3),n.Q6J("ngIf",e.answers.length)("ngIfElse",o),n.xp6(3),n.Q6J("ngIf",e.topic),n.xp6(1),n.Q6J("ngIf",e.subtopic)}}function Oo(t,i){if(1&t&&(n.TgZ(0,"div",7),n.YNc(1,So,11,10,"ng-container",8),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.questions)}}let _n=(()=>{class t{constructor(e){this.questionHttpService=e,this.questions=[],this.isLoading=!0}ngOnInit(){this.internalInit()}internalInit(){this.retrieveQuestions()}retrieveQuestions(){this.questionHttpService.retrieveQuestions().subscribe({next:e=>{this.questions=e.data,this.isLoading=!1},error:e=>this.isLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(He.Q))},t.\u0275cmp=n.Xpm({type:t,selectors:[["questions-container"]],decls:6,vars:2,consts:[[1,"mb-3"],["routerLink","question-create",1,"btn","btn-primary"],[4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"list-group"],[4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action","active",3,"routerLink"],[1,"mb-1"],[1,"list-group-item","list-group-item-action"],["noAnswers",""],[4,"ngIf"],[3,"routerLink"],[1,"list-group-item","list-group-item-action",3,"routerLink"],[1,"d-flex","w-100","justify-content-between"],[1,"fw-bold","badge","bg-info","d-flex","align-items-center"],[1,"fw-bold","badge","bg-warning","d-flex","align-items-center"]],template:function(e,o){if(1&e&&(n.TgZ(0,"div",0)(1,"a",1),n._uU(2,"Crear pregunta"),n.qZA()(),n.YNc(3,yo,5,0,"ng-container",2),n.YNc(4,Oo,2,1,"ng-template",null,3,n.W1O)),2&e){const s=n.MAs(5);n.xp6(3),n.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},dependencies:[m.sg,m.O5,re.rH,m.OU],encapsulation:2}),t})();var tt=N(7944),nt=N(4722);function Ro(t,i){1&t&&(n.ynx(0),n.TgZ(1,"div",2)(2,"div",3)(3,"span",4),n._uU(4,"Loading..."),n.qZA()()(),n.BQk())}function xo(t,i){1&t&&(n.ynx(0),n.TgZ(1,"span",20),n._uU(2,"Es correcta"),n.qZA(),n._UZ(3,"br"),n.BQk())}function Mo(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"li")(2,"p"),n._uU(3),n.ALo(4,"slice"),n.qZA(),n.YNc(5,xo,4,0,"ng-container",5),n.TgZ(6,"a",19),n._uU(7,"Ver m\xe1s"),n.qZA()(),n.BQk()),2&t){const e=i.$implicit;n.xp6(3),n.Oqu(e.description.length>30?n.Dn7(4,3,e.description,0,30)+"...":e.description),n.xp6(2),n.Q6J("ngIf",e.isCorrect),n.xp6(1),n.Q6J("routerLink","/answers/answer-show/"+e._id)}}function Eo(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"h2"),n._uU(2,"Respuestas"),n.qZA(),n.TgZ(3,"ol"),n.YNc(4,Mo,8,7,"ng-container",18),n.qZA(),n.BQk()),2&t){const e=n.oxw(3);n.xp6(4),n.Q6J("ngForOf",e.question.answers)}}const Io=function(t){return{questionId:t}};function Ao(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9),n._UZ(5,"p",10),n.TgZ(6,"div",11)(7,"button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.detete())}),n._uU(8,"Eliminar"),n.qZA()(),n.TgZ(9,"div",11)(10,"button",13),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.edit())}),n._uU(11,"Actualizar"),n.qZA()(),n.TgZ(12,"div",11)(13,"a",14),n._uU(14,"Crear respuestas"),n.qZA()()(),n.TgZ(15,"div",15)(16,"small",16),n._uU(17),n.ALo(18,"date"),n.qZA(),n.TgZ(19,"small",16),n._uU(20),n.ALo(21,"date"),n.qZA()()()(),n.TgZ(22,"div",17),n.YNc(23,Eo,5,1,"ng-container",5),n.qZA()(),n.BQk()}if(2&t){const e=n.oxw(2);n.xp6(5),n.Q6J("innerHtml",e.question.description,n.oJD),n.xp6(8),n.Q6J("routerLink","/answers/answers-create")("queryParams",n.VKq(12,Io,e.question._id)),n.xp6(4),n.hij("Creado el: ",n.xi3(18,6,e.question.createdAt,"dd/MM/yyyy")," y "),n.xp6(3),n.hij("actualizado el: ",n.xi3(21,9,e.question.updatedAt,"dd/MM/yyyy"),""),n.xp6(3),n.Q6J("ngIf",e.question.answers.length)}}function ko(t,i){if(1&t&&n.YNc(0,Ao,24,14,"ng-container",5),2&t){const e=n.oxw();n.Q6J("ngIf",e.question)}}let mn=(()=>{class t{constructor(e,o,s){this.questionHttpService=e,this.router=o,this.route=s,this.questionId="",this.question=void 0,this.isLoading=!0}ngOnInit(){this.internalInit()}detete(){window.confirm("\xbfEst\xe1s seguro de que la desea eliminar?")&&this.questionHttpService.deleteQuestion(this.questionId).subscribe({next:e=>{alert(e.data.description+" eliminado correctamente"),this.router.navigate(["/questions"])},error:e=>console.error(e)})}edit(){this.router.navigate(["/questions/question-edit/"+this.questionId])}internalInit(){this.subscribeToParams()}subscribeToParams(){this.route.params.subscribe(e=>{this.questionId=e.id,this.getQuestionById()})}getQuestionById(){this.questionHttpService.getQuestionById(this.questionId).subscribe({next:e=>{this.question=e.data,this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(He.Q),n.Y36(re.F0),n.Y36(re.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["question-show-container"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[4,"ngIf"],[1,"row"],[1,"col-12","col-sm-8"],[1,"card"],[1,"card-body"],[1,"card-text",3,"innerHtml"],[1,"mb-3"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"card-footer"],[1,"text-body-secondary"],[1,"col-12","col-sm-4"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge","bg-primary"]],template:function(e,o){if(1&e&&(n.YNc(0,Ro,5,0,"ng-container",0),n.YNc(1,ko,1,1,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(2);n.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},dependencies:[m.sg,m.O5,re.rH,m.OU,m.uU],encapsulation:2}),t})();var le=(()=>((le=le||{}).ACTIVE="Active",le.INACTIVE="Inactive",le))(),xt=N(2115);function Po(t,i){1&t&&(n.ynx(0),n.TgZ(1,"div",2)(2,"div",3)(3,"span",4),n._uU(4,"Loading..."),n.qZA()()(),n.BQk())}function Fo(t,i){1&t&&(n.TgZ(0,"p",24),n._uU(1," Ingresa la descripci\xf3n"),n.qZA())}function Bo(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"option",25),n._uU(2),n.qZA(),n.BQk()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("value",e),n.xp6(1),n.Oqu(e)}}function Go(t,i){1&t&&(n.TgZ(0,"p",24),n._uU(1,"Selecciona el estado"),n.qZA())}function Ho(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"option",25),n._uU(2),n.qZA(),n.BQk()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("value",e._id),n.xp6(1),n.Oqu(e.name)}}function jo(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"option",25),n._uU(2),n.qZA(),n.BQk()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("value",e._id),n.xp6(1),n.Oqu(e.name)}}function Lo(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"form",6)(1,"div",7)(2,"label",8),n._uU(3,"Descripci\xf3n"),n.qZA(),n.TgZ(4,"textarea",9),n._uU(5,"            "),n.qZA(),n.YNc(6,Fo,2,0,"p",10),n.qZA(),n.TgZ(7,"div",7)(8,"label",11),n._uU(9,"Estado"),n.qZA(),n.TgZ(10,"select",12)(11,"option",13),n._uU(12,"Selectione el status porfavor"),n.qZA(),n.YNc(13,Bo,3,2,"ng-container",14),n.qZA(),n.YNc(14,Go,2,0,"p",10),n.qZA(),n.TgZ(15,"div",7)(16,"p",15),n._uU(17,"Debe seleccionar por lo menos un tema o subtema"),n.qZA()(),n.TgZ(18,"div",16)(19,"label",17),n._uU(20,"Tema"),n.qZA(),n.TgZ(21,"select",18)(22,"option",13),n._uU(23,"Seleccionar tema"),n.qZA(),n.YNc(24,Ho,3,2,"ng-container",14),n.qZA()(),n.TgZ(25,"div",16)(26,"label",19),n._uU(27,"Subtema"),n.qZA(),n.TgZ(28,"select",20)(29,"option",13),n._uU(30,"Seleccionar subtema"),n.qZA(),n.YNc(31,jo,3,2,"ng-container",14),n.qZA()(),n.TgZ(32,"div",21)(33,"button",22),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.validate())}),n.TgZ(34,"span",23),n._uU(35," Actualizar "),n.qZA()()()()}if(2&t){const e=n.oxw(2);let o,s;n.Q6J("formGroup",e.form),n.xp6(6),n.Q6J("ngIf",(null==(o=e.form.get("description"))?null:o.invalid)&&((null==(o=e.form.get("description"))?null:o.dirty)||(null==(o=e.form.get("description"))?null:o.touched))),n.xp6(7),n.Q6J("ngForOf",e.statusList),n.xp6(1),n.Q6J("ngIf",(null==(s=e.form.get("status"))?null:s.invalid)&&((null==(s=e.form.get("status"))?null:s.dirty)||(null==(s=e.form.get("status"))?null:s.touched))),n.xp6(10),n.Q6J("ngForOf",e.topics),n.xp6(7),n.Q6J("ngForOf",e.subtopics),n.xp6(2),n.Q6J("disabled",e.isLoading?"disabled":null)}}function Yo(t,i){if(1&t&&n.YNc(0,Lo,36,7,"form",5),2&t){const e=n.oxw();n.Q6J("ngIf",null==e.form?null:e.form.get("description"))}}let bn=(()=>{class t{constructor(e,o,s,a){this.questionHttpService=e,this.topicHttpService=o,this.route=s,this.location=a,this.form=new T.cw({}),this.resourceId="",this.statusList=[],this.topics=[],this.subtopics=[],this.question=void 0,this.isLoading=!0}ngOnInit(){this.internalInit()}validate(){this.form.valid?this.register():alert("Formulario invalido o debe seleccionar un tema o un subtema")}internalInit(){this.setResourceId()}setResourceId(){this.route.params.subscribe(e=>{this.resourceId=e.id,this.getQuestionById()})}getQuestionById(){this.questionHttpService.getQuestionById(this.resourceId).subscribe({next:e=>{this.question=e.data,this.buildForm(),this.setStatusList(),this.isLoading=!1,this.retrieveTopics(),this.retrieveSubTopics()},error:e=>{console.log(e),this.isLoading=!1}})}setStatusList(){this.statusList=[],Object.values(le).forEach(e=>{this.statusList.push(e)})}retrieveTopics(){this.isLoading=!0,this.topicHttpService.retrieveTopics().subscribe({next:e=>{this.topics=e.data,this.isLoading=!1},error:e=>{console.error(e),this.isLoading=!1}})}retrieveSubTopics(){this.isLoading=!0,this.topicHttpService.retrieveSubTopics().subscribe({next:e=>{this.subtopics=e.data,this.isLoading=!1},error:e=>{console.error(e),this.isLoading=!1}})}buildForm(){this.form=new T.cw({description:new T.NI(this.question.description,[T.kI.required]),status:new T.NI(this.question.status,[T.kI.required]),topic:new T.NI(this.question.topic?._id,[]),subtopic:new T.NI(this.question.subtopic?._id,[])})}buildRequest(){return{_id:this.resourceId,...this.form.value}}register(){const e=this.buildRequest();this.questionHttpService.updateQuestion(e).subscribe({next:o=>{this.handleRegisterSuccess(o)},error:o=>{console.error("err",o)}})}handleRegisterSuccess(e){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(He.Q),n.Y36(xt.J),n.Y36(re.gz),n.Y36(m.Ye))},t.\u0275cmp=n.Xpm({type:t,selectors:[["question-edit-container"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["class","row",3,"formGroup",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],["for","description",1,"form-label"],["id","description","autocomplete","description","formControlName","description","placeholder","Descripci\xf3n","rows","3",1,"form-control"],["class","text-danger",4,"ngIf"],["for","status",1,"form-label"],["id","status","autocomplete","status","formControlName","status","placeholder","Estado",1,"form-control"],["value",""],[4,"ngFor","ngForOf"],[1,"text-primary"],[1,"col-12","col-sm-6","mb-3"],["for","topic",1,"form-label"],["id","topic","autocomplete","topic","formControlName","topic","placeholder","Tema",1,"form-control"],["for","subtopic",1,"form-label"],["id","subtopic","autocomplete","subtopic","formControlName","subtopic","placeholder","Subtema",1,"form-control"],[1,"col-12","text-center"],[1,"btn","btn-success",3,"disabled","click"],[1,"button_label"],[1,"text-danger"],[3,"value"]],template:function(e,o){if(1&e&&(n.TgZ(0,"h1"),n._uU(1,"Editar pregunta"),n.qZA(),n.YNc(2,Po,5,0,"ng-container",0),n.YNc(3,Yo,1,1,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(4);n.xp6(2),n.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},dependencies:[m.sg,m.O5,T._Y,T.YN,T.Kr,T.Fj,T.EJ,T.JJ,T.JL,T.sg,T.u],encapsulation:2}),t})();var it=N(8994),Oe=N(5592),vn=N(6232),Mt=N(2096),B=N(8645),ue=N(4829),yn=N(1631),$o=N(4266),pe=N(4674),Vo=N(7400);const Zo=["addListener","removeListener"],Uo=["addEventListener","removeEventListener"],qo=["on","off"];function P(t,i,e,o){if((0,pe.m)(e)&&(o=e,e=void 0),o)return P(t,i,e).pipe((0,Vo.Z)(o));const[s,a]=function Qo(t){return(0,pe.m)(t.addEventListener)&&(0,pe.m)(t.removeEventListener)}(t)?Uo.map(r=>l=>t[r](i,l,e)):function Jo(t){return(0,pe.m)(t.addListener)&&(0,pe.m)(t.removeListener)}(t)?Zo.map(Nn(t,i)):function zo(t){return(0,pe.m)(t.on)&&(0,pe.m)(t.off)}(t)?qo.map(Nn(t,i)):[];if(!s&&(0,$o.z)(t))return(0,yn.z)(r=>P(r,i,e))((0,ue.Xf)(t));if(!s)throw new TypeError("Invalid event target");return new Oe.y(r=>{const l=(...c)=>r.next(1<c.length?c:c[0]);return s(l),()=>a(l)})}function Nn(t,i){return e=>o=>t[e](i,o)}var Wo=N(7394);class Ko extends Wo.w0{constructor(i,e){super()}schedule(i,e=0){return this}}const ot={setInterval(t,i,...e){const{delegate:o}=ot;return o?.setInterval?o.setInterval(t,i,...e):setInterval(t,i,...e)},clearInterval(t){const{delegate:i}=ot;return(i?.clearInterval||clearInterval)(t)},delegate:void 0};var Xo=N(9039);const Tn={now:()=>(Tn.delegate||Date).now(),delegate:void 0};class je{constructor(i,e=je.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,o){return new this.schedulerActionCtor(this,i).schedule(o,e)}}je.now=Tn.now;const ns=new class ts extends je{constructor(i,e=je.now){super(i,e),this.actions=[],this._active=!1}flush(i){const{actions:e}=this;if(this._active)return void e.push(i);let o;this._active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=e.shift());if(this._active=!1,o){for(;i=e.shift();)i.unsubscribe();throw o}}}(class es extends Ko{constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){var o;if(this.closed)return this;this.state=i;const s=this.id,a=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(a,s,e)),this.pending=!0,this.delay=e,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(a,this.id,e),this}requestAsyncId(i,e,o=0){return ot.setInterval(i.flush.bind(i,this),o)}recycleAsyncId(i,e,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return e;null!=e&&ot.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(i,e);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let s,o=!1;try{this.work(i)}catch(a){o=!0,s=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:i,scheduler:e}=this,{actions:o}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Xo.P)(o,this),null!=i&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}});var is=N(671);const{isArray:ss}=Array;function Dn(t){return 1===t.length&&ss(t[0])?t[0]:t}var Re=N(8251);N(3019);var On=N(9940);function Et(...t){const i=(0,On.jO)(t),e=Dn(t);return e.length?new Oe.y(o=>{let s=e.map(()=>[]),a=e.map(()=>!1);o.add(()=>{s=a=null});for(let r=0;!o.closed&&r<e.length;r++)(0,ue.Xf)(e[r]).subscribe((0,Re.x)(o,l=>{if(s[r].push(l),s.every(c=>c.length)){const c=s.map(d=>d.shift());o.next(i?i(...c):c),s.some((d,u)=>!d.length&&a[u])&&o.complete()}},()=>{a[r]=!0,!s[r].length&&o.complete()}));return()=>{s=a=null}}):vn.E}var Rn=N(5211),It=N(9360),At=N(2420);function E(t){return(0,It.e)((i,e)=>{(0,ue.Xf)(t).subscribe((0,Re.x)(e,()=>e.complete(),At.Z)),!e.closed&&i.subscribe(e)})}var ee=N(2181),J=N(8180),xn=N(9397),Le=N(7398),cs=N(2737);function kt(...t){const i=(0,On.jO)(t);return(0,It.e)((e,o)=>{const s=t.length,a=new Array(s);let r=t.map(()=>!1),l=!1;for(let c=0;c<s;c++)(0,ue.Xf)(t[c]).subscribe((0,Re.x)(o,d=>{a[c]=d,!l&&!r[c]&&(r[c]=!0,(l=r.every(cs.y))&&(r=null))},At.Z));e.subscribe((0,Re.x)(o,c=>{if(l){const d=[c,...a];o.next(i?i(...d):d)}}))})}N(975);var gs=N(4664);N(7921),N(3997),Math,Math,Math;const Ba=["*"],gr=["dialog"];function he(t){return"string"==typeof t}function _e(t){return null!=t}function ke(t){return(t||document.body).getBoundingClientRect()}const ni={animation:!0,transitionTimerDelayMs:5},sl=()=>{},{transitionTimerDelayMs:al}=ni,Je=new Map,Y=(t,i,e,o)=>{let s=o.context||{};const a=Je.get(i);if(a)switch(o.runningTransition){case"continue":return vn.E;case"stop":t.run(()=>a.transition$.complete()),s=Object.assign(a.context,s),Je.delete(i)}const r=e(i,o.animation,s)||sl;if(!o.animation||"none"===window.getComputedStyle(i).transitionProperty)return t.run(()=>r()),(0,Mt.of)(void 0).pipe(function il(t){return i=>new Oe.y(e=>i.subscribe({next:r=>t.run(()=>e.next(r)),error:r=>t.run(()=>e.error(r)),complete:()=>t.run(()=>e.complete())}))}(t));const l=new B.x,c=new B.x,d=l.pipe(function ls(...t){return i=>(0,Rn.z)(i,(0,Mt.of)(...t))}(!0));Je.set(i,{transition$:l,complete:()=>{c.next(),c.complete()},context:s});const u=function ol(t){const{transitionDelay:i,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(i)+parseFloat(e))}(i);return t.runOutsideAngular(()=>{const f=P(i,"transitionend").pipe(E(d),(0,ee.h)(({target:g})=>g===i));(function Sn(...t){return 1===(t=Dn(t)).length?(0,ue.Xf)(t[0]):new Oe.y(function as(t){return i=>{let e=[];for(let o=0;e&&!i.closed&&o<t.length;o++)e.push((0,ue.Xf)(t[o]).subscribe((0,Re.x)(i,s=>{if(e){for(let a=0;a<e.length;a++)a!==o&&e[a].unsubscribe();e=null}i.next(s)})))}}(t))})(function wn(t=0,i,e=ns){let o=-1;return null!=i&&((0,is.K)(i)?e=i:o=i),new Oe.y(s=>{let a=function os(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;a<0&&(a=0);let r=0;return e.schedule(function(){s.closed||(s.next(r++),0<=o?this.schedule(void 0,o):s.complete())},a)})}(u+al).pipe(E(d)),f,c).pipe(E(d)).subscribe(()=>{Je.delete(i),t.run(()=>{r(),l.next(),l.complete()})})}),l.asObservable()};let pt=(()=>{class t{constructor(){this.animation=ni.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ui=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),pi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),fi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),hi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();var _=(()=>((_=_||{})[_.Tab=9]="Tab",_[_.Enter=13]="Enter",_[_.Escape=27]="Escape",_[_.Space=32]="Space",_[_.PageUp=33]="PageUp",_[_.PageDown=34]="PageDown",_[_.End=35]="End",_[_.Home=36]="Home",_[_.ArrowLeft=37]="ArrowLeft",_[_.ArrowUp=38]="ArrowUp",_[_.ArrowRight=39]="ArrowRight",_[_.ArrowDown=40]="ArrowDown",_))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ti=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ci(t){const i=Array.from(t.querySelectorAll(Ti)).filter(e=>-1!==e.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Fi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),Hi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();class Ne{constructor(i,e,o){this.nodes=i,this.viewRef=e,this.componentRef=o}}let sc=(()=>{class t{constructor(e,o){this._el=e,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe((0,J.q)(1)).subscribe(()=>{Y(this._zone,this._el.nativeElement,(e,o)=>{o&&ke(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Y(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.R0b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,o){2&e&&(n.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),n.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[n.jDz],decls:0,vars:0,template:function(e,o){},encapsulation:2}),t})();class ji{update(i){}close(i){}dismiss(i){}}const ac=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],rc=["animation","backdropClass"];class lc{_applyWindowOptions(i,e){ac.forEach(o=>{_e(e[o])&&(i[o]=e[o])})}_applyBackdropOptions(i,e){rc.forEach(o=>{_e(e[o])&&(i[o]=e[o])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(E(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(E(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(i,e,o,s){this._windowCmptRef=i,this._contentRef=e,this._backdropCmptRef=o,this._beforeDismiss=s,this._closed=new B.x,this._dismissed=new B.x,this._hidden=new B.x,i.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,r)=>{this._resolve=a,this._reject=r}),this.result.then(null,()=>{})}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Xn(t){return t&&t.then}(e)?!1!==e&&this._dismiss(i):e.then(o=>{!1!==o&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Mt.of)(void 0);i.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Et(i,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ae=(()=>((ae=ae||{})[ae.BACKDROP_CLICK=0]="BACKDROP_CLICK",ae[ae.ESC=1]="ESC",ae))();let cc=(()=>{class t{constructor(e,o,s){this._document=e,this._elRef=o,this._zone=s,this._closed$=new B.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new n.vpe,this.shown=new B.x,this.hidden=new B.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":he(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,J.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,o={animation:this.animation,runningTransition:"stop"},r=Et(Y(this._zone,e,()=>e.classList.remove("show"),o),Y(this._zone,this._dialogEl.nativeElement,()=>{},o));return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){const e={animation:this.animation,runningTransition:"continue"};Et(Y(this._zone,this._elRef.nativeElement,(a,r)=>{r&&ke(a),a.classList.add("show")},e),Y(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{P(e,"keydown").pipe(E(this._closed$),(0,ee.h)(s=>s.which===_.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(ae.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;P(this._dialogEl.nativeElement,"mousedown").pipe(E(this._closed$),(0,xn.b)(()=>o=!1),(0,gs.w)(()=>P(e,"mouseup").pipe(E(this._closed$),(0,J.q)(1))),(0,ee.h)(({target:s})=>e===s)).subscribe(()=>{o=!0}),P(e,"click").pipe(E(this._closed$)).subscribe(({target:s})=>{e===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(ae.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const o=e.querySelector("[ngbAutofocus]"),s=Ci(e)[0];(o||s||e).focus()}}_restoreFocus(){const e=this._document.body,o=this._elWithFocus;let s;s=o&&o.focus&&e.contains(o)?o:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Y(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(m.K0),n.Y36(n.SBq),n.Y36(n.R0b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,o){if(1&e&&n.Gf(gr,7),2&e){let s;n.iGM(s=n.CRH())&&(o._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,o){2&e&&(n.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),n.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),n.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[n.jDz],ngContentSelectors:Ba,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,o){1&e&&(n.F$t(),n.TgZ(0,"div",0,1)(2,"div",2),n.Hsn(3),n.qZA()()),2&e&&n.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),dc=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,s=o.style,{overflow:a,paddingRight:r}=s;if(e>0){const l=parseFloat(window.getComputedStyle(o).paddingRight);s.paddingRight=`${l+e}px`}return s.overflow="hidden",()=>{e>0&&(s.paddingRight=r),s.overflow=a}}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(m.K0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uc=(()=>{class t{constructor(e,o,s,a,r,l,c){this._applicationRef=e,this._injector=o,this._environmentInjector=s,this._document=a,this._scrollBar=r,this._rendererFactory=l,this._ngZone=c,this._activeWindowCmptHasChanged=new B.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new n.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((t,i,e,o=!1)=>{t.runOutsideAngular(()=>{const s=P(i,"focusin").pipe(E(e),(0,Le.U)(a=>a.target));P(i,"keydown").pipe(E(e),(0,ee.h)(a=>a.which===_.Tab),kt(s)).subscribe(([a,r])=>{const[l,c]=Ci(i);(r===l||r===i)&&a.shiftKey&&(c.focus(),a.preventDefault()),r===c&&!a.shiftKey&&(l.focus(),a.preventDefault())}),o&&P(i,"click").pipe(E(e),kt(s),(0,Le.U)(a=>a[1])).subscribe(a=>a.focus())})})(this._ngZone,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,o,s){const a=s.container instanceof HTMLElement?s.container:_e(s.container)?this._document.querySelector(s.container):this._document.body,r=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new ji,c=(e=s.injector||e).get(n.lqb,null)||this._environmentInjector,d=this._getContentRef(e,c,o,l,s);let u=!1!==s.backdrop?this._attachBackdrop(a):void 0,f=this._attachWindowComponent(a,d.nodes),p=new lc(f,d,u,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.hidden.pipe((0,J.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(r.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=g=>{p.close(g)},l.dismiss=g=>{p.dismiss(g)},l.update=g=>{p.update(g)},p.update(s),1===this._modalRefs.length&&r.addClass(this._document.body,"modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(o=>o.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let o=(0,n.LMc)(sc,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,o){let s=(0,n.LMc)(cc,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:o});return this._applicationRef.attachView(s.hostView),e.appendChild(s.location.nativeElement),s}_getContentRef(e,o,s,a,r){return s?s instanceof n.Rgc?this._createFromTemplateRef(s,a):he(s)?this._createFromString(s):this._createFromComponent(e,o,s,a,r):new Ne([])}_createFromTemplateRef(e,o){const a=e.createEmbeddedView({$implicit:o,close(r){o.close(r)},dismiss(r){o.dismiss(r)}});return this._applicationRef.attachView(a),new Ne([a.rootNodes],a)}_createFromString(e){const o=this._document.createTextNode(`${e}`);return new Ne([[o]])}_createFromComponent(e,o,s,a,r){const l=n.zs3.create({providers:[{provide:ji,useValue:a}],parent:e}),c=(0,n.LMc)(s,{environmentInjector:o,elementInjector:l}),d=c.location.nativeElement;return r.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Ne([[d]],c.hostView,c)}_setAriaHidden(e){const o=e.parentElement;o&&e!==this._document.body&&(Array.from(o.children).forEach(s=>{s!==e&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,o)=>{e?o.setAttribute("aria-hidden",e):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const o=()=>{const s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(o,o)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const o=this._windowCmpts.indexOf(e);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.z2F),n.LFG(n.zs3),n.LFG(n.lqb),n.LFG(m.K0),n.LFG(dc),n.LFG(n.FYo),n.LFG(n.R0b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pc=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(pt))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Li=(()=>{class t{constructor(e,o,s){this._injector=e,this._modalStack=o,this._config=s}open(e,o={}){const s={...this._config,animation:this._config.animation,...o};return this._modalStack.open(this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.zs3),n.LFG(uc),n.LFG(pc))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[Li]}),t})(),Zi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),Xi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),eo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),to=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),no=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),io=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),oo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),so=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),ao=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();new n.OlP("live announcer delay",{providedIn:"root",factory:function Oc(){return 100}});let ro=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),lo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const Rc=[ui,pi,fi,hi,Fi,Hi,Yi,Zi,lo,Xi,eo,to,no,io,oo,so,ao,ro];let xc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[Rc,ui,pi,fi,hi,Fi,Hi,Yi,Zi,lo,Xi,eo,to,no,io,oo,so,ao,ro]}),t})();const Mc=["modalContent"];function Ec(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",8)(1,"h4",9),n._uU(2,"Aviso!"),n.qZA(),n.TgZ(3,"button",10),n.NdJ("click",function(){const a=n.CHM(e).$implicit;return n.KtG(a.dismiss("Cross click"))}),n.qZA()(),n.TgZ(4,"div",11)(5,"p"),n._uU(6,"Formulario invalido o debe seleccionar un tema o un subtema"),n.qZA()(),n.TgZ(7,"div",12)(8,"button",13),n.NdJ("click",function(){const a=n.CHM(e).$implicit;return n.KtG(a.close("Close click"))}),n._uU(9,"Cerrar"),n.qZA()()}}function Ic(t,i){1&t&&(n.ynx(0),n.TgZ(1,"div",14)(2,"div",15)(3,"span",16),n._uU(4,"Loading..."),n.qZA()()(),n.BQk())}function Ac(t,i){1&t&&(n.TgZ(0,"p",28),n._uU(1," Ingresa la descripci\xf3n"),n.qZA())}function kc(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"option",29),n._uU(2),n.qZA(),n.BQk()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("value",e),n.xp6(1),n.Oqu(e)}}function Pc(t,i){1&t&&(n.TgZ(0,"p",28),n._uU(1,"Selecciona el estado"),n.qZA())}function Fc(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"option",29),n._uU(2),n.qZA(),n.BQk()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("value",e._id),n.xp6(1),n.Oqu(e.name)}}function Bc(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"option",29),n._uU(2),n.qZA(),n.BQk()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("value",e._id),n.xp6(1),n.Oqu(e.name)}}function Gc(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"div",19)(2,"p",30),n._uU(3,"Debe seleccionar por lo menos un tema o subtema"),n.qZA()(),n.TgZ(4,"div",31)(5,"label",32),n._uU(6,"Tema"),n.qZA(),n.TgZ(7,"select",33)(8,"option",25),n._uU(9,"Seleccionar tema"),n.qZA(),n.YNc(10,Fc,3,2,"ng-container",2),n.qZA()(),n.TgZ(11,"div",31)(12,"label",34),n._uU(13,"Subtema"),n.qZA(),n.TgZ(14,"select",35)(15,"option",25),n._uU(16,"Seleccionar subtema"),n.qZA(),n.YNc(17,Bc,3,2,"ng-container",2),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(10),n.Q6J("ngForOf",e.topics),n.xp6(7),n.Q6J("ngForOf",e.subtopics)}}function Hc(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"h2",17),n._uU(2),n.qZA(),n.TgZ(3,"form",18)(4,"div",19)(5,"label",20),n._uU(6,"Descripci\xf3n"),n.qZA(),n.TgZ(7,"textarea",21),n._uU(8,"            "),n.qZA(),n.YNc(9,Ac,2,0,"p",22),n.qZA(),n.TgZ(10,"div",19)(11,"label",23),n._uU(12,"Estado"),n.qZA(),n.TgZ(13,"select",24)(14,"option",25),n._uU(15,"Selectione el status porfavor"),n.qZA(),n.YNc(16,kc,3,2,"ng-container",2),n.qZA(),n.YNc(17,Pc,2,0,"p",22),n.qZA(),n.YNc(18,Gc,18,2,"ng-container",1),n.qZA(),n.TgZ(19,"div",26)(20,"button",27),n.NdJ("click",function(){const a=n.CHM(e).index,r=n.oxw();return n.KtG(r.deleteForm(a))}),n._uU(21,"Eliminar pregunta"),n.qZA()(),n.BQk()}if(2&t){const e=i.$implicit,o=i.index,s=n.oxw();let a,r;n.xp6(2),n.hij("Pregunta ",o+1,""),n.xp6(1),n.Q6J("formGroup",e),n.xp6(6),n.Q6J("ngIf",(null==(a=e.get("description"))?null:a.invalid)&&((null==(a=e.get("description"))?null:a.dirty)||(null==(a=e.get("description"))?null:a.touched))),n.xp6(7),n.Q6J("ngForOf",s.statusList),n.xp6(1),n.Q6J("ngIf",(null==(r=e.get("status"))?null:r.invalid)&&((null==(r=e.get("status"))?null:r.dirty)||(null==(r=e.get("status"))?null:r.touched))),n.xp6(1),n.Q6J("ngIf",!s.resourceId)}}let co=(()=>{class t{constructor(e,o,s,a,r){this.topicHttpService=e,this.questionHttpService=o,this.route=s,this.location=a,this.modalService=r,this.resourceTypeEnum=it._,this.forms=new T.Oe([]),this.topics=[],this.subtopics=[],this.statusList=[],this.resourceType=it._.TOPIC,this.resourceId="",this.isLoading=!0}ngOnInit(){this.internalInit()}addForm(){const e=new T.cw({description:new T.NI("",[T.kI.required]),status:new T.NI(le.ACTIVE,[T.kI.required]),topic:new T.NI(this.resourceType===it._.TOPIC?this.resourceId:"",[]),subtopic:new T.NI(this.resourceType===it._.SUBTOPIC?this.resourceId:"",[])});this.forms.push(e)}validate(){this.forms.valid?this.register():this.openSm()}openSm(){this.modalService.open(this.modalContent,{size:"sm"})}internalInit(){this.subscribeToParams()}subscribeToParams(){this.route.queryParams.subscribe(e=>{this.resourceId=e.resourceId,this.resourceType=e.resourceType,this.setStatusList(),this.retrieveTopics(),this.retrieveSubTopics(),this.addForm()})}setStatusList(){this.statusList=[],Object.values(le).forEach(e=>{this.statusList.push(e)})}retrieveTopics(){this.isLoading=!0,this.topicHttpService.retrieveTopics().subscribe({next:e=>{this.topics=e.data,this.isLoading=!1},error:e=>{console.error(e),this.isLoading=!1}})}retrieveSubTopics(){this.isLoading=!0,this.topicHttpService.retrieveSubTopics().subscribe({next:e=>{this.subtopics=e.data,this.isLoading=!1},error:e=>{console.error(e),this.isLoading=!1}})}buildRequest(){return this.forms.value.map(o=>{let s={description:o.description,status:o.status};return o.topic?s={...s,topic:o.topic}:o.subtopic&&(s={...s,subtopic:o.subtopic}),s})}register(){this.isLoading=!0;const e=this.buildRequest();this.questionHttpService.createQuestion(e).subscribe({next:o=>{this.handleRegisterSuccess(o)},error:o=>{console.error("err",o),this.isLoading=!1}})}handleRegisterSuccess(e){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(xt.J),n.Y36(He.Q),n.Y36(re.gz),n.Y36(m.Ye),n.Y36(Li))},t.\u0275cmp=n.Xpm({type:t,selectors:[["question-create-container"]],viewQuery:function(e,o){if(1&e&&n.Gf(Mc,5),2&e){let s;n.iGM(s=n.CRH())&&(o.modalContent=s.first)}},decls:13,vars:3,consts:[["modalContent",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"mb-3"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-success",3,"disabled","click"],[1,"button_label"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],[1,"d-flex","justify-content-center","mb-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mt-3"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],["for","description",1,"form-label"],["id","description","autocomplete","description","formControlName","description","placeholder","Descripci\xf3n","rows","3",1,"form-control"],["class","text-danger",4,"ngIf"],["for","status",1,"form-label"],["id","status","autocomplete","status","formControlName","status","placeholder","Estado",1,"form-control"],["value",""],[1,"mb-3","text-end"],[1,"btn","btn-danger",3,"click"],[1,"text-danger"],[3,"value"],[1,"text-primary"],[1,"col-12","col-sm-6","mb-3"],["for","topic",1,"form-label"],["id","topic","autocomplete","topic","formControlName","topic","placeholder","Tema",1,"form-control"],["for","subtopic",1,"form-label"],["id","subtopic","autocomplete","subtopic","formControlName","subtopic","placeholder","Subtema",1,"form-control"]],template:function(e,o){1&e&&(n.TgZ(0,"h1"),n._uU(1,"Crear Preguntas"),n.qZA(),n.YNc(2,Ec,10,0,"ng-template",null,0,n.W1O),n.YNc(4,Ic,5,0,"ng-container",1),n.YNc(5,Hc,22,6,"ng-container",2),n.TgZ(6,"div",3)(7,"div",4)(8,"button",5),n.NdJ("click",function(){return o.addForm()}),n._uU(9," Agregar nueva pregunta "),n.qZA()(),n.TgZ(10,"button",6),n.NdJ("click",function(){return o.validate()}),n.TgZ(11,"span",7),n._uU(12," Guardar pregunta(s) "),n.qZA()()()),2&e&&(n.xp6(4),n.Q6J("ngIf",o.isLoading),n.xp6(1),n.Q6J("ngForOf",o.forms.controls),n.xp6(5),n.Q6J("disabled",o.isLoading?"disabled":null))},dependencies:[m.sg,m.O5,T._Y,T.YN,T.Kr,T.Fj,T.EJ,T.JJ,T.JL,T.sg,T.u],encapsulation:2}),t})();const jc=[{path:"",component:_n,data:{roles:[tt.F.ADMIN]},canActivate:[nt.a]},{path:"question-create",component:co,data:{roles:[tt.F.ADMIN]},canActivate:[nt.a]},{path:"question-show/:id",component:mn,data:{roles:[tt.F.ADMIN]},canActivate:[nt.a]},{path:"question-edit/:id",component:bn,data:{roles:[tt.F.ADMIN]},canActivate:[nt.a]}];let Lc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[re.Bz.forChild(jc),re.Bz]}),t})(),Yc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:"components",useValue:[_n,mn,co,bn],multi:!0},xt.J,He.Q],imports:[m.ez,T.UX,Lc,xc]}),t})()}}]);