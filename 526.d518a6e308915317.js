"use strict";(self.webpackChunkfrontend_practice=self.webpackChunkfrontend_practice||[]).push([[526],{7526:(it,h,u)=>{u.r(h),u.d(h,{QuestionsContainerModule:()=>et});var a=u(6814),r=u(95),l=u(228),t=u(4946),_=u(9949);function Z(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"span",6),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function q(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"li")(2,"a",14),t._uU(3),t.qZA()(),t.BQk()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("routerLink","/answers/answer-show/"+e._id),t.xp6(1),t.Oqu(e.description)}}function T(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"h6"),t._uU(2,"Respuestas"),t.qZA(),t.TgZ(3,"ol"),t.YNc(4,q,4,2,"ng-container",8),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Q6J("ngForOf",e.answers)}}function v(n,i){1&n&&(t.TgZ(0,"h6"),t._uU(1,"No hay respuesta"),t.qZA())}function A(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",15)(2,"div",16)(3,"h5",10),t._uU(4),t.qZA(),t.TgZ(5,"div",17),t._uU(6,"Tema"),t.qZA()()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink","/topics/topic-show/"+e.topic._id),t.xp6(3),t.Oqu(e.topic.name)}}function I(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",15)(2,"div",16)(3,"h5",10),t._uU(4),t.qZA(),t.TgZ(5,"div",18),t._uU(6,"Subtema"),t.qZA()()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink","/topics/subtopic-show/"+e.subtopic._id),t.xp6(3),t.Oqu(e.subtopic.name)}}function y(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",9)(2,"p",10),t._uU(3),t.ALo(4,"slice"),t.qZA()(),t.TgZ(5,"div",11),t.YNc(6,T,5,1,"ng-container",2),t.YNc(7,v,2,0,"ng-template",null,12,t.W1O),t.qZA(),t.YNc(9,A,7,2,"ng-container",13),t.YNc(10,I,7,2,"ng-container",13),t.BQk()),2&n){const e=i.$implicit,o=t.MAs(8);t.xp6(1),t.Q6J("routerLink","question-show/"+e._id),t.xp6(2),t.Oqu(e.description.length>30?t.Dn7(4,6,e.description,0,30)+"...":e.description),t.xp6(3),t.Q6J("ngIf",e.answers.length)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",e.topic),t.xp6(1),t.Q6J("ngIf",e.subtopic)}}function w(n,i){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,y,11,10,"ng-container",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.questions)}}let b=(()=>{class n{constructor(e){this.questionHttpService=e,this.questions=[],this.isLoading=!0}ngOnInit(){this.internalInit()}internalInit(){this.retrieveQuestions()}retrieveQuestions(){this.questionHttpService.retrieveQuestions().subscribe({next:e=>{this.questions=e.data,this.isLoading=!1},error:e=>this.isLoading=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["questions-container"]],decls:6,vars:2,consts:[[1,"mb-3"],["routerLink","question-create",1,"btn","btn-primary"],[4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"list-group"],[4,"ngFor","ngForOf"],["aria-current","true",1,"list-group-item","list-group-item-action","active",3,"routerLink"],[1,"mb-1"],[1,"list-group-item","list-group-item-action"],["noAnswers",""],[4,"ngIf"],[3,"routerLink"],[1,"list-group-item","list-group-item-action",3,"routerLink"],[1,"d-flex","w-100","justify-content-between"],[1,"fw-bold","badge","bg-info","d-flex","align-items-center"],[1,"fw-bold","badge","bg-warning","d-flex","align-items-center"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2,"Crear pregunta"),t.qZA()(),t.YNc(3,Z,5,0,"ng-container",2),t.YNc(4,w,2,1,"ng-template",null,3,t.W1O)),2&e){const s=t.MAs(5);t.xp6(3),t.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},dependencies:[a.sg,a.O5,l.rH,a.OU],encapsulation:2}),n})();var d=u(7944),m=u(4722);function L(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"span",4),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function J(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",20),t._uU(2,"Es correcta"),t.qZA(),t._UZ(3,"br"),t.BQk())}function U(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"li")(2,"p"),t._uU(3),t.ALo(4,"slice"),t.qZA(),t.YNc(5,J,4,0,"ng-container",5),t.TgZ(6,"a",19),t._uU(7,"Ver m\xe1s"),t.qZA()(),t.BQk()),2&n){const e=i.$implicit;t.xp6(3),t.Oqu(e.description.length>30?t.Dn7(4,3,e.description,0,30)+"...":e.description),t.xp6(2),t.Q6J("ngIf",e.isCorrect),t.xp6(1),t.Q6J("routerLink","/answers/answer-show/"+e._id)}}function N(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"h2"),t._uU(2,"Respuestas"),t.qZA(),t.TgZ(3,"ol"),t.YNc(4,U,8,7,"ng-container",18),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",e.question.answers)}}const S=function(n){return{questionId:n}};function k(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9),t._UZ(5,"p",10),t.TgZ(6,"div",11)(7,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.detete())}),t._uU(8,"Eliminar"),t.qZA()(),t.TgZ(9,"div",11)(10,"button",13),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.edit())}),t._uU(11,"Actualizar"),t.qZA()(),t.TgZ(12,"div",11)(13,"a",14),t._uU(14,"Crear respuestas"),t.qZA()()(),t.TgZ(15,"div",15)(16,"small",16),t._uU(17),t.ALo(18,"date"),t.qZA(),t.TgZ(19,"small",16),t._uU(20),t.ALo(21,"date"),t.qZA()()()(),t.TgZ(22,"div",17),t.YNc(23,N,5,1,"ng-container",5),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("innerHtml",e.question.description,t.oJD),t.xp6(8),t.Q6J("routerLink","/answers/answers-create")("queryParams",t.VKq(12,S,e.question._id)),t.xp6(4),t.hij("Creado el: ",t.xi3(18,6,e.question.createdAt,"dd/MM/yyyy")," y "),t.xp6(3),t.hij("actualizado el: ",t.xi3(21,9,e.question.updatedAt,"dd/MM/yyyy"),""),t.xp6(3),t.Q6J("ngIf",e.question.answers.length)}}function F(n,i){if(1&n&&t.YNc(0,k,24,14,"ng-container",5),2&n){const e=t.oxw();t.Q6J("ngIf",e.question)}}let C=(()=>{class n{constructor(e,o,s){this.questionHttpService=e,this.router=o,this.route=s,this.questionId="",this.question=void 0,this.isLoading=!0}ngOnInit(){this.internalInit()}detete(){window.confirm("\xbfEst\xe1s seguro de que la desea eliminar?")&&this.questionHttpService.deleteQuestion(this.questionId).subscribe({next:e=>{alert(e.data.description+" eliminado correctamente"),this.router.navigate(["/questions"])},error:e=>console.error(e)})}edit(){this.router.navigate(["/questions/question-edit/"+this.questionId])}internalInit(){this.subscribeToParams()}subscribeToParams(){this.route.params.subscribe(e=>{this.questionId=e.id,this.getQuestionById()})}getQuestionById(){this.questionHttpService.getQuestionById(this.questionId).subscribe({next:e=>{this.question=e.data,this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.Q),t.Y36(l.F0),t.Y36(l.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["question-show-container"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[4,"ngIf"],[1,"row"],[1,"col-12","col-sm-8"],[1,"card"],[1,"card-body"],[1,"card-text",3,"innerHtml"],[1,"mb-3"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"card-footer"],[1,"text-body-secondary"],[1,"col-12","col-sm-4"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge","bg-primary"]],template:function(e,o){if(1&e&&(t.YNc(0,L,5,0,"ng-container",0),t.YNc(1,F,1,1,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},dependencies:[a.sg,a.O5,l.rH,a.OU,a.uU],encapsulation:2}),n})();var p=(()=>((p=p||{}).ACTIVE="Active",p.INACTIVE="Inactive",p))(),f=u(2115);function Y(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"span",4),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function O(n,i){1&n&&(t.TgZ(0,"p",24),t._uU(1," Ingresa la descripci\xf3n"),t.qZA())}function E(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"option",25),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function B(n,i){1&n&&(t.TgZ(0,"p",24),t._uU(1,"Selecciona el estado"),t.qZA())}function H(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"option",25),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e._id),t.xp6(1),t.Oqu(e.name)}}function M(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"option",25),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e._id),t.xp6(1),t.Oqu(e.name)}}function R(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",6)(1,"div",7)(2,"label",8),t._uU(3,"Descripci\xf3n"),t.qZA(),t.TgZ(4,"textarea",9),t._uU(5,"            "),t.qZA(),t.YNc(6,O,2,0,"p",10),t.qZA(),t.TgZ(7,"div",7)(8,"label",11),t._uU(9,"Estado"),t.qZA(),t.TgZ(10,"select",12)(11,"option",13),t._uU(12,"Selectione el status porfavor"),t.qZA(),t.YNc(13,E,3,2,"ng-container",14),t.qZA(),t.YNc(14,B,2,0,"p",10),t.qZA(),t.TgZ(15,"div",7)(16,"p",15),t._uU(17,"Debe seleccionar por lo menos un tema o subtema"),t.qZA()(),t.TgZ(18,"div",16)(19,"label",17),t._uU(20,"Tema"),t.qZA(),t.TgZ(21,"select",18)(22,"option",13),t._uU(23,"Seleccionar tema"),t.qZA(),t.YNc(24,H,3,2,"ng-container",14),t.qZA()(),t.TgZ(25,"div",16)(26,"label",19),t._uU(27,"Subtema"),t.qZA(),t.TgZ(28,"select",20)(29,"option",13),t._uU(30,"Seleccionar subtema"),t.qZA(),t.YNc(31,M,3,2,"ng-container",14),t.qZA()(),t.TgZ(32,"div",21)(33,"button",22),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.validate())}),t.TgZ(34,"span",23),t._uU(35," Actualizar "),t.qZA()()()()}if(2&n){const e=t.oxw(2);let o,s;t.Q6J("formGroup",e.form),t.xp6(6),t.Q6J("ngIf",(null==(o=e.form.get("description"))?null:o.invalid)&&((null==(o=e.form.get("description"))?null:o.dirty)||(null==(o=e.form.get("description"))?null:o.touched))),t.xp6(7),t.Q6J("ngForOf",e.statusList),t.xp6(1),t.Q6J("ngIf",(null==(s=e.form.get("status"))?null:s.invalid)&&((null==(s=e.form.get("status"))?null:s.dirty)||(null==(s=e.form.get("status"))?null:s.touched))),t.xp6(10),t.Q6J("ngForOf",e.topics),t.xp6(7),t.Q6J("ngForOf",e.subtopics),t.xp6(2),t.Q6J("disabled",e.isLoading?"disabled":null)}}function j(n,i){if(1&n&&t.YNc(0,R,36,7,"form",5),2&n){const e=t.oxw();t.Q6J("ngIf",null==e.form?null:e.form.get("description"))}}let x=(()=>{class n{constructor(e,o,s,c){this.questionHttpService=e,this.topicHttpService=o,this.route=s,this.location=c,this.form=new r.cw({}),this.resourceId="",this.statusList=[],this.topics=[],this.subtopics=[],this.question=void 0,this.isLoading=!0}ngOnInit(){this.internalInit()}validate(){this.form.valid?this.register():alert("Formulario invalido o debe seleccionar un tema o un subtema")}internalInit(){this.setResourceId()}setResourceId(){this.route.params.subscribe(e=>{this.resourceId=e.id,this.getQuestionById()})}getQuestionById(){this.questionHttpService.getQuestionById(this.resourceId).subscribe({next:e=>{this.question=e.data,this.buildForm(),this.setStatusList(),this.isLoading=!1,this.retrieveTopics(),this.retrieveSubTopics()},error:e=>{console.log(e),this.isLoading=!1}})}setStatusList(){this.statusList=[],Object.values(p).forEach(e=>{this.statusList.push(e)})}retrieveTopics(){this.isLoading=!0,this.topicHttpService.retrieveTopics().subscribe({next:e=>{this.topics=e.data,this.isLoading=!1},error:e=>{console.error(e),this.isLoading=!1}})}retrieveSubTopics(){this.isLoading=!0,this.topicHttpService.retrieveSubTopics().subscribe({next:e=>{this.subtopics=e.data,this.isLoading=!1},error:e=>{console.error(e),this.isLoading=!1}})}buildForm(){this.form=new r.cw({description:new r.NI(this.question.description,[r.kI.required]),status:new r.NI(this.question.status,[r.kI.required]),topic:new r.NI(this.question.topic?._id,[]),subtopic:new r.NI(this.question.subtopic?._id,[])})}buildRequest(){return{_id:this.resourceId,...this.form.value}}register(){const e=this.buildRequest();this.questionHttpService.updateQuestion(e).subscribe({next:o=>{this.handleRegisterSuccess(o)},error:o=>{console.error("err",o)}})}handleRegisterSuccess(e){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.Q),t.Y36(f.J),t.Y36(l.gz),t.Y36(a.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["question-edit-container"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["class","row",3,"formGroup",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],["for","description",1,"form-label"],["id","description","autocomplete","description","formControlName","description","placeholder","Descripci\xf3n","rows","3",1,"form-control"],["class","text-danger",4,"ngIf"],["for","status",1,"form-label"],["id","status","autocomplete","status","formControlName","status","placeholder","Estado",1,"form-control"],["value",""],[4,"ngFor","ngForOf"],[1,"text-primary"],[1,"col-12","col-sm-6","mb-3"],["for","topic",1,"form-label"],["id","topic","autocomplete","topic","formControlName","topic","placeholder","Tema",1,"form-control"],["for","subtopic",1,"form-label"],["id","subtopic","autocomplete","subtopic","formControlName","subtopic","placeholder","Subtema",1,"form-control"],[1,"col-12","text-center"],[1,"btn","btn-success",3,"disabled","click"],[1,"button_label"],[1,"text-danger"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h1"),t._uU(1,"Editar pregunta"),t.qZA(),t.YNc(2,Y,5,0,"ng-container",0),t.YNc(3,j,1,1,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(4);t.xp6(2),t.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},dependencies:[a.sg,a.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u],encapsulation:2}),n})();var g=u(8994);function D(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",7)(2,"div",8)(3,"span",9),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function $(n,i){1&n&&(t.TgZ(0,"p",21),t._uU(1," Ingresa la descripci\xf3n"),t.qZA())}function P(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"option",22),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function z(n,i){1&n&&(t.TgZ(0,"p",21),t._uU(1,"Selecciona el estado"),t.qZA())}function G(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"option",22),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e._id),t.xp6(1),t.Oqu(e.name)}}function K(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"option",22),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e._id),t.xp6(1),t.Oqu(e.name)}}function V(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",23)(2,"label",24),t._uU(3,"Tema"),t.qZA(),t.TgZ(4,"select",25)(5,"option",17),t._uU(6,"Seleccionar tema"),t.qZA(),t.YNc(7,G,3,2,"ng-container",1),t.qZA()(),t.TgZ(8,"div",23)(9,"label",26),t._uU(10,"Subtema"),t.qZA(),t.TgZ(11,"select",27)(12,"option",17),t._uU(13,"Seleccionar subtema"),t.qZA(),t.YNc(14,K,3,2,"ng-container",1),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(7),t.Q6J("ngForOf",e.topics),t.xp6(7),t.Q6J("ngForOf",e.subtopics)}}function X(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",10)(2,"div",11)(3,"label",12),t._uU(4,"Descripci\xf3n"),t.qZA(),t.TgZ(5,"textarea",13),t._uU(6,"            "),t.qZA(),t.YNc(7,$,2,0,"p",14),t.qZA(),t.TgZ(8,"div",11)(9,"label",15),t._uU(10,"Estado"),t.qZA(),t.TgZ(11,"select",16)(12,"option",17),t._uU(13,"Selectione el status porfavor"),t.qZA(),t.YNc(14,P,3,2,"ng-container",1),t.qZA(),t.YNc(15,z,2,0,"p",14),t.qZA(),t.TgZ(16,"div",11)(17,"p",18),t._uU(18,"Debe seleccionar por lo menos un tema o subtema"),t.qZA()(),t.YNc(19,V,15,2,"ng-container",0),t.qZA(),t.TgZ(20,"div",19)(21,"button",20),t.NdJ("click",function(){const c=t.CHM(e).index,nt=t.oxw();return t.KtG(nt.deleteForm(c))}),t._uU(22,"Eliminar"),t.qZA()(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw();let s,c;t.xp6(1),t.Q6J("formGroup",e),t.xp6(6),t.Q6J("ngIf",(null==(s=e.get("description"))?null:s.invalid)&&((null==(s=e.get("description"))?null:s.dirty)||(null==(s=e.get("description"))?null:s.touched))),t.xp6(7),t.Q6J("ngForOf",o.statusList),t.xp6(1),t.Q6J("ngIf",(null==(c=e.get("status"))?null:c.invalid)&&((null==(c=e.get("status"))?null:c.dirty)||(null==(c=e.get("status"))?null:c.touched))),t.xp6(4),t.Q6J("ngIf",!o.resourceId)}}let Q=(()=>{class n{constructor(e,o,s,c){this.topicHttpService=e,this.questionHttpService=o,this.route=s,this.location=c,this.resourceTypeEnum=g._,this.forms=new r.Oe([]),this.topics=[],this.subtopics=[],this.statusList=[],this.resourceType=g._.TOPIC,this.resourceId="",this.isLoading=!0}ngOnInit(){this.internalInit()}addForm(){const e=new r.cw({description:new r.NI("",[r.kI.required]),status:new r.NI(p.ACTIVE,[r.kI.required]),topic:new r.NI(this.resourceType===g._.TOPIC?this.resourceId:"",[]),subtopic:new r.NI(this.resourceType===g._.SUBTOPIC?this.resourceId:"",[])});this.forms.push(e)}validate(){this.forms.valid?this.register():alert("Formulario invalido o debe seleccionar un tema o un subtema")}internalInit(){this.subscribeToParams()}subscribeToParams(){this.route.queryParams.subscribe(e=>{this.resourceId=e.resourceId,this.resourceType=e.resourceType,this.setStatusList(),this.retrieveTopics(),this.retrieveSubTopics(),this.addForm()})}setStatusList(){this.statusList=[],Object.values(p).forEach(e=>{this.statusList.push(e)})}retrieveTopics(){this.isLoading=!0,this.topicHttpService.retrieveTopics().subscribe({next:e=>{this.topics=e.data,this.isLoading=!1},error:e=>{console.error(e),this.isLoading=!1}})}retrieveSubTopics(){this.isLoading=!0,this.topicHttpService.retrieveSubTopics().subscribe({next:e=>{this.subtopics=e.data,this.isLoading=!1},error:e=>{console.error(e),this.isLoading=!1}})}buildRequest(){return this.forms.value.map(o=>{let s={description:o.description,status:o.status};return o.topic?s={...s,topic:o.topic}:o.subtopic&&(s={...s,subtopic:o.subtopic}),s})}register(){this.isLoading=!0;const e=this.buildRequest();this.questionHttpService.createQuestion(e).subscribe({next:o=>{this.handleRegisterSuccess(o)},error:o=>{console.error("err",o),this.isLoading=!1}})}handleRegisterSuccess(e){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.J),t.Y36(_.Q),t.Y36(l.gz),t.Y36(a.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["question-create-container"]],decls:11,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"mb-3"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-success",3,"disabled","click"],[1,"button_label"],[1,"d-flex","justify-content-center","mb-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],["for","description",1,"form-label"],["id","description","autocomplete","description","formControlName","description","placeholder","Descripci\xf3n","rows","3",1,"form-control"],["class","text-danger",4,"ngIf"],["for","status",1,"form-label"],["id","status","autocomplete","status","formControlName","status","placeholder","Estado",1,"form-control"],["value",""],[1,"text-primary"],[1,"mb-3","text-end"],[1,"btn","btn-danger",3,"click"],[1,"text-danger"],[3,"value"],[1,"col-12","col-sm-6","mb-3"],["for","topic",1,"form-label"],["id","topic","autocomplete","topic","formControlName","topic","placeholder","Tema",1,"form-control"],["for","subtopic",1,"form-label"],["id","subtopic","autocomplete","subtopic","formControlName","subtopic","placeholder","Subtema",1,"form-control"]],template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Crear Preguntas"),t.qZA(),t.YNc(2,D,5,0,"ng-container",0),t.YNc(3,X,23,5,"ng-container",1),t.TgZ(4,"div",2)(5,"div",3)(6,"button",4),t.NdJ("click",function(){return o.addForm()}),t._uU(7,"Agregar pregunta"),t.qZA()(),t.TgZ(8,"button",5),t.NdJ("click",function(){return o.validate()}),t.TgZ(9,"span",6),t._uU(10," Registrar "),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngForOf",o.forms.controls),t.xp6(5),t.Q6J("disabled",o.isLoading?"disabled":null))},dependencies:[a.sg,a.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u],encapsulation:2}),n})();const W=[{path:"",component:b,data:{roles:[d.F.ADMIN]},canActivate:[m.a]},{path:"question-create",component:Q,data:{roles:[d.F.ADMIN]},canActivate:[m.a]},{path:"question-show/:id",component:C,data:{roles:[d.F.ADMIN]},canActivate:[m.a]},{path:"question-edit/:id",component:x,data:{roles:[d.F.ADMIN]},canActivate:[m.a]}];let tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(W),l.Bz]}),n})(),et=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:"components",useValue:[b,C,Q,x],multi:!0},f.J,_.Q],imports:[a.ez,r.UX,tt]}),n})()}}]);